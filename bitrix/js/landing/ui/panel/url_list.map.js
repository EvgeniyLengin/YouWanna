{"version":3,"sources":["url_list.js"],"names":["BX","namespace","addClass","Landing","Utils","removeClass","append","onCustomEvent","setTextContent","create","style","isNumber","isString","isPlainObject","isArray","addQueryParams","TYPE_PAGE","TYPE_BLOCK","TYPE_SYSTEM","SidebarButton","UI","Button","Panel","URLList","id","data","Content","apply","this","arguments","layout","overlay","hidden","dataset","isShown","refresh","bind","document","body","loader","Loader","target","content","promiseResolve","isNeedLoad","cache","Cache","MemoryCache","getInstance","instance","prototype","constructor","__proto__","showLoader","show","view","options","showOptions","call","clear","title","panelTitle","Loc","getMessage","showSites","showBlocks","Promise","resolve","currentSiteId","siteId","width","Type","filter","env","Env","isNil","ID","getType","getSiteId","Backend","getSites","then","sites","appendSidebarButton","text","forEach","site","parseInt","currentSiteButton","TITLE","onClick","onSiteClick","enableAreas","child","active","getLandings","landings","fakeEvent","currentTarget","siteClick","appendCard","Card","AddPageCard","onSave","addPageSave","landing","IS_AREA","LandingPreviewCard","description","DESCRIPTION","preview","PREVIEW","onLandingClick","hide","currentSiteOnly","createCurrentSiteButton","currentLandingId","landingId","sitesIds","map","reduce","result","index","currentLandings","SITE_ID","currentPageOnly","button","createLandingSidebarButton","click","Object","keys","createSiteSidebarButton","onLandingChange","event","currentSelectedLanding","sidebarButtons","activate","deactivate","showPreviewLoader","createIframeIfNeed","loadPreviewSrc","buildLandingPreviewUrl","hidePreviewLoader","editorUrl","Main","params","sef_url","landing_view","replace","forceLoad","landing_mode","src","previewFrame","onload","contentDocument","removePanels","slice","querySelectorAll","wrapper","classList","add","addEventListener","preventDefault","onBlockClick","previewFrameWrapper","opacity","attrs","appendChild","innerHTML","requestAnimationFrame","containerWidth","clientWidth","height","transform","transform-origin","border","isTrusted","getBlocks","blocks","currentBlock","find","block","onChange","type","name","alias","onSystemClick","closest","createLandingPreview","reloadFn","backend","delete","createBlockPreview","BlockHTMLPreview","getLanding","key","JSON","stringify","remember","action","get_preview","response","getBlock","cacheKey","edit_mode","value"],"mappings":"CAAC,WACA,aAEAA,GAAGC,UAAU,uBAEb,IAAIC,EAAWF,GAAGG,QAAQC,MAAMF,SAChC,IAAIG,EAAcL,GAAGG,QAAQC,MAAMC,YACnC,IAAIC,EAASN,GAAGG,QAAQC,MAAME,OAC9B,IAAIC,EAAgBP,GAAGG,QAAQC,MAAMG,cACrC,IAAIC,EAAiBR,GAAGG,QAAQC,MAAMI,eACtC,IAAIC,EAAST,GAAGG,QAAQC,MAAMK,OAC9B,IAAIC,EAAQV,GAAGG,QAAQC,MAAMM,MAC7B,IAAIC,EAAWX,GAAGG,QAAQC,MAAMO,SAChC,IAAIC,EAAWZ,GAAGG,QAAQC,MAAMQ,SAChC,IAAIC,EAAgBb,GAAGG,QAAQC,MAAMS,cACrC,IAAIC,EAAUd,GAAGG,QAAQC,MAAMU,QAC/B,IAAIC,EAAiBf,GAAGG,QAAQC,MAAMW,eAEtC,IAAIC,EAAY,UAChB,IAAIC,EAAa,QACjB,IAAIC,EAAc,SAElB,IAAIC,EAAgBnB,GAAGG,QAAQiB,GAAGC,OAAOF,cAWzCnB,GAAGG,QAAQiB,GAAGE,MAAMC,QAAU,SAASC,EAAIC,GAE1CzB,GAAGG,QAAQiB,GAAGE,MAAMI,QAAQC,MAAMC,KAAMC,WAExC3B,EAAS0B,KAAKE,OAAQ,6BACtB5B,EAAS0B,KAAKG,QAAS,qCACvB7B,EAAS0B,KAAKG,QAAS,mBAEvBH,KAAKG,QAAQC,OAAS,KACtBJ,KAAKG,QAAQE,QAAQC,QAAU,QAG/B3B,EAAc,wBAAyBqB,KAAKO,QAAQC,KAAKR,OACxDrB,EAAc,0BAA2BqB,KAAKO,QAAQC,KAAKR,OAG5DtB,EAAOsB,KAAKE,OAAQO,SAASC,MAG7BV,KAAKW,OAAS,IAAIvC,GAAGwC,QAAQC,OAAQb,KAAKc,UAE1Cd,KAAKe,eAAiB,aACtBf,KAAKE,OAAOE,OAAS,KACrBJ,KAAKgB,WAAa,KAClBhB,KAAKiB,MAAQ,IAAI7C,GAAG8C,MAAMC,aAQ3B/C,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQyB,YAAc,WAEzC,IAAKhD,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ0B,SACjC,CACCjD,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ0B,SAAW,IAAIjD,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ,YAGxE,OAAOvB,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ0B,UASpCjD,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ0B,SAAW,KAGvCjD,GAAGG,QAAQiB,GAAGE,MAAMC,QAAQ2B,WAC3BC,YAAanD,GAAGG,QAAQiB,GAAGE,MAAMC,QACjC6B,UAAWpD,GAAGG,QAAQiB,GAAGE,MAAMI,QAAQwB,UAMvCf,QAAS,WAERP,KAAKgB,WAAa,MAOnBS,WAAY,WAEXzB,KAAKW,OAAOe,KAAK1B,KAAKc,UAUvBY,KAAM,SAASC,EAAMC,GAEpB5B,KAAK6B,YAAcD,EACnBxD,GAAGG,QAAQiB,GAAGE,MAAMI,QAAQwB,UAAUI,KAAKI,KAAK9B,MAEhDA,KAAK+B,QACL/B,KAAKyB,aAEL,GAAIE,IAASvC,EACb,CACCX,EAAYuB,KAAKE,OAAQ,oCACzBtB,EAAeoB,KAAKgC,MAAOJ,EAAQK,YAAc7D,GAAGG,QAAQ2D,IAAIC,WAAW,iCAC3EnC,KAAKoC,UAAUR,OAGhB,CACChD,EAAeoB,KAAKgC,MAAOJ,EAAQK,YAAc7D,GAAGG,QAAQ2D,IAAIC,WAAW,+BAC3EnC,KAAKqC,WAAWT,GAGjB,OAAO,IAAIU,QAAQ,SAASC,GAC3BvC,KAAKe,eAAiBwB,GACrB/B,KAAKR,QAORoC,UAAW,SAASR,GAEnB,IAAIY,EAAgBZ,EAAQa,YAEvB3D,EAAMkB,KAAKE,QACfwC,MAAO,OAGR,IAAKtE,GAAGuE,KAAK1D,cAAc2C,EAAQgB,QACnC,CACChB,EAAQgB,UAGT,IAAIC,EAAMzE,GAAGG,QAAQuE,IAAI1B,cACzB,GAAIhD,GAAGuE,KAAKI,MAAMnB,EAAQgB,OAAOI,KAAOH,EAAII,YAAc,YAC1D,CACCrB,EAAQgB,OAAOI,GAAKH,EAAIK,YAGzB,GAAItB,EAAQgB,OAAOI,MAAQ,EAC3B,QACQpB,EAAQgB,OAAOI,QAGlB5E,GAAGG,QAAQ4E,QAAQ/B,cACtBgC,SAASxB,GAASyB,KAAK,SAASC,GAChCtD,KAAKuD,oBACJ,IAAIhE,EAAc,gBACjBiE,KAAMpF,GAAGG,QAAQ2D,IAAIC,WAAW,uCAIlCmB,EAAMG,QAAQ,SAASC,GAEtB,GAAIC,SAASD,EAAKV,KAAOR,EACzB,CACCxC,KAAK4D,kBAAoB,IAAIrE,EAAcmE,EAAKV,IAC/CQ,KAAME,EAAKG,MACXC,QAAS9D,KAAK+D,YAAYvD,KAAKR,KAAM0D,EAAKV,GAAIpB,EAAQoC,aACtDC,MAAO,KACPC,OAAQ,OAGTlE,KAAKuD,oBAAoBvD,KAAK4D,qBAE7B5D,MAEH5B,GAAGG,QAAQ4E,QAAQ/B,cACjB+C,aAAa1B,OAAQD,IACrBa,KAAK,SAASe,GACd,IAAIC,GAAaC,cAAetE,KAAK4D,kBAAkB1D,QACvD,IAAIqE,EAAYvE,KAAK+D,YAAYvD,KAAKR,KAAMwC,EAAeZ,EAAQoC,YAAaK,GAChFrE,KAAKwE,WACJ,IAAIpG,GAAGG,QAAQiB,GAAGiF,KAAKC,aACtBjC,OAAQD,EACRmC,OAAQ3E,KAAK4E,YAAYpE,KAAKR,KAAMuE,EAAW/B,MAGjD4B,EAASX,QAAQ,SAASoB,GACzB,IAAKA,EAAQC,SAAYD,EAAQC,SAAWlD,EAAQoC,YACpD,CACChE,KAAKwE,WACJ,IAAIpG,GAAGG,QAAQiB,GAAGiF,KAAKM,oBACtB/C,MAAO6C,EAAQhB,MACfmB,YAAaH,EAAQI,YACrBC,QAASL,EAAQM,QACjBrB,QAAS9D,KAAKoF,eAAe5E,KAAKR,KAAM6E,EAAQ7B,GAAI6B,EAAQhB,YAI7D7D,MAEHA,KAAKW,OAAO0E,QACX7E,KAAKR,OAER,IAAK4B,EAAQ0D,gBACb,CACCtF,KAAKuD,oBACJ,IAAIhE,EAAc,YACjBiE,KAAMpF,GAAGG,QAAQ2D,IAAIC,WAAW,mCAIlCmB,EAAMG,QAAQ,SAASC,GACtB1D,KAAKuD,oBACJ,IAAIhE,EAAcmE,EAAKV,IACtBQ,KAAME,EAAKG,MACXC,QAAS9D,KAAK+D,YAAYvD,KAAKR,KAAM0D,EAAKV,GAAIpB,EAAQoC,aACtDC,MAAO,SAGPjE,QAEHQ,KAAKR,QAOTuF,wBAAyB,WAExB,OAAO,IAAIhG,EAAc,gBACxBiE,KAAMpF,GAAGG,QAAQ2D,IAAIC,WAAW,uCASlCE,WAAY,SAAST,GAEpB,IAAI4D,EAAmB5D,EAAQ6D,UAC/B,IAAIjD,EAAgBZ,EAAQa,YAEvB3D,EAAMkB,KAAKE,QACfwC,MAAO,UAGRtE,GAAGG,QAAQ4E,QAAQ/B,cACjBgC,SAASxB,GACTyB,KAAK,SAASC,GACdtD,KAAKuD,oBACJvD,KAAKuF,2BAGN,IAAIG,EAAWpC,EAAMqC,IAAI,SAASjC,GACjC,OAAOA,EAAKV,IACVhD,MAEH,OAAO5B,GAAGG,QAAQ4E,QAAQ/B,cACxB+C,aAAa1B,OAAQiD,IACrBrC,KAAK,SAASe,GACd,OAAOd,EAAMsC,OAAO,SAASC,EAAQnC,EAAMoC,GAC1C,IAAIC,EAAkB3B,EAASxB,OAAO,SAASiC,GAC9C,OAAOnB,EAAKV,KAAO6B,EAAQmB,UAG5BH,EAAOnC,EAAKV,KAAOU,KAAMA,EAAMU,SAAU2B,GACzC,OAAOF,UAGTrF,KAAKR,OACNqD,KAAK,SAASwC,GACdA,EAAOrD,GAAe4B,SAASX,QAAQ,SAASoB,GAC/C,IAAIX,EAASP,SAASkB,EAAQ7B,MAAQW,SAAS6B,GAE/C,IAAK5D,EAAQqE,iBAAmB/B,EAChC,CACC,IAAIgC,EAASlG,KAAKmG,2BAA2BtB,EAASX,GACtDlE,KAAKuD,oBAAoB2C,GAEzB,GAAIhC,EACJ,CACCgC,EAAOhG,OAAOkG,WAIdpG,MAEH,IAAK4B,EAAQqE,gBACb,CACCI,OAAOC,KAAKT,GAAQpC,QAAQ,SAAShB,GACpC,GAAIkB,SAASlB,KAAYkB,SAASnB,GAClC,CACC,IAAIkB,EAAOmC,EAAOpD,GAAQiB,KAC1B1D,KAAKuD,oBACJvD,KAAKuG,wBAAwB7C,IAG9BmC,EAAOpD,GAAQ2B,SAASX,QAAQ,SAASoB,GACxC7E,KAAKuD,oBACJvD,KAAKmG,2BAA2BtB,KAE/B7E,QAEFA,QAEHQ,KAAKR,QAITmG,2BAA4B,SAAStB,EAASX,GAE7C,OAAO,IACF3E,EAAcsF,EAAQ7B,IACzBQ,KAAMqB,EAAQhB,MACdC,QAAS9D,KAAKwG,gBAAgBhG,KAAKR,KAAM6E,GACzCZ,MAAO,KACPC,OAAQA,KAKXqC,wBAAyB,SAAS7C,GAEjC,OAAO,IACFnE,EAAcmE,EAAKV,IACtBQ,KAAME,EAAKG,MACXI,MAAO,MACPC,OAAQ,SAMXsC,gBAAiB,SAAS3B,EAAS4B,GAElCzG,KAAK0G,uBAAyB7B,EAC9B7E,KAAK2G,eAAelD,QAAQ,SAASyC,GACpC,GAAIA,EAAOhG,SAAWuG,EAAMnC,cAC5B,CACC4B,EAAOU,WACP,OAGDV,EAAOW,eAGR7G,KAAK8G,oBACHzD,KAAKrD,KAAK+G,sBACV1D,KAAKrD,KAAKgH,eAAehH,KAAKiH,uBAAuBpC,KACrDxB,KAAKrD,KAAKkH,sBAIbD,uBAAwB,SAASpC,GAEhC,IAAIsC,EAAY/I,GAAGG,QAAQ6I,KAAKhG,cAAcQ,QAAQyF,OAAOC,QAAQC,aACrEJ,EAAYA,EAAUK,QAAQ,cAAe3C,EAAQmB,SACrDmB,EAAYA,EAAUK,QAAQ,iBAAkB3C,EAAQ7B,IAExD,OAAO7D,EAAegI,GACrBM,UAAW,KACXC,aAAc,UAIhBV,eAAgB,SAASW,GAExB,OAAO,WAEN,OAAO,IAAIrF,QAAQ,SAASC,GAC3B,GAAIvC,KAAK4H,aAAaD,MAAQA,EAC9B,CACC3H,KAAK4H,aAAaD,IAAMA,EACxB3H,KAAK4H,aAAaC,OAAS,WAC1B,IAAIC,EAAkB9H,KAAK4H,aAAaE,gBACxC1J,GAAGG,QAAQC,MAAMuJ,aAAaD,MAC3BE,MAAMlG,KAAKgG,EAAgBG,iBAAiB,mBAC7CxE,QAAQ,SAASyE,GACjBA,EAAQC,UAAUC,IAAI,uCACtBF,EAAQG,iBAAiB,QAAS,SAAS5B,GAC1CA,EAAM6B,iBACNtI,KAAKuI,aAAa5E,SAASuE,EAAQtI,GAAG4H,QAAQ,QAAS,KAAMf,IAC5DjG,KAAKR,QACLA,MACJuC,EAAQvC,KAAK4H,eACZpH,KAAKR,MACP,OAGDuC,EAAQvC,KAAK4H,eACZpH,KAAKR,QACNQ,KAAKR,OAGR8G,kBAAmB,WAElB,IAAK9G,KAAKW,OACV,CACCX,KAAKW,OAAS,IAAIvC,GAAGwC,OAGtB,GAAIZ,KAAKwI,oBACT,MACM1J,EAAMkB,KAAKwI,qBACfC,QAAS,IAIX,OAAO,IAAInG,QAAQ,SAASC,QACtBvC,KAAKW,OAAOe,KAAK1B,KAAKc,SAC3ByB,KACC/B,KAAKR,QAIRkH,kBAAmB,WAElB,OAAO,gBAEDpI,EAAMkB,KAAKwI,qBACfC,QAAS,OAGV,OAAOzI,KAAKW,OAAO0E,QAClB7E,KAAKR,OAIR+G,mBAAoB,WAEnB,OAAO,WAEN,IAAIzE,QAAQ,SAASC,GACpB,IAAKvC,KAAK4H,aACV,CACC5H,KAAK4H,aAAe/I,EAAO,aAC3BmB,KAAKwI,oBAAsB3J,EAAO,OACjC6J,OAAQ5J,MAAO,kDAEhBkB,KAAKwI,oBAAoBG,YAAY3I,KAAK4H,cAC1C5H,KAAKc,QAAQ8H,UAAY,GACzB5I,KAAKc,QAAQ6H,YAAY3I,KAAKwI,qBAC9BxI,KAAK8G,oBAEL+B,sBAAsB,WACrB,IAAIC,EAAiB9I,KAAKc,QAAQiI,YAAc,QAE3CjK,EAAMkB,KAAK4H,cACflF,MAAS,SACTsG,OAAU,iCAAmCF,EAAe,IAAM,IAAK,KACvEG,UAAa,SAAUH,EAAe,IAAM,kBAC5CI,mBAAoB,WACpBC,OAAU,UAEV3I,KAAKR,OAGRuC,EAAQvC,KAAK4H,eACZpH,KAAKR,QACNQ,KAAKR,OASRuI,aAAc,SAAS3I,EAAI6G,GAE1B,GAAIA,EAAM2C,UACV,MACMhL,GAAGG,QAAQ4E,QAAQ/B,cACtBiI,WAAW5D,UAAWzF,KAAK0G,uBAAuB1D,KAClDK,KAAK,SAASiG,GACd,IAAIC,EAAeD,EAAOE,KAAK,SAASC,GACvC,OAAOA,EAAM7J,KAAOA,IAGrB,GAAI2J,EACJ,CACCvJ,KAAK0J,UACJC,KAAMtK,EACNO,GAAI2J,EAAa3J,GACjBgK,KAAML,EAAaK,KACnBC,MAAON,EAAaM,UAGrBrJ,KAAKR,SAUVoF,eAAgB,SAASxF,EAAIgK,GAE5B5J,KAAK0J,UAAUC,KAAMvK,EAAWQ,GAAIA,EAAIgK,KAAMA,KAS/CE,cAAe,SAASlK,EAAIgK,GAE3B5J,KAAK0J,UAAUC,KAAMrK,EAAaM,GAAI,IAAMA,EAAIgK,KAAMA,KAUvD7F,YAAa,SAAStB,EAAQuB,EAAayC,GAE1CzG,KAAK2G,eAAelD,QAAQ,SAASyC,GACpC,GACCA,EAAOhG,SAAWuG,EAAMnC,iBAErBmC,EAAM5F,QACLqF,EAAOhG,SAAWuG,EAAM5F,OAAOkJ,QAAQ,sBAG5C,CACC/J,KAAK4D,kBAAoBsC,EACzBA,EAAOU,eAGR,CACCV,EAAOW,eAEN7G,MAEHA,KAAKc,QAAQ8H,UAAY,GACzB5I,KAAKyB,aAELrD,GAAGG,QAAQ4E,QAAQ/B,cACjB+C,aAAa1B,OAAQA,IACrBY,KAAK,SAASe,GACd,IAAIG,EAAYvE,KAAK+D,YAAYvD,KAAKR,KAAMyC,EAAQuB,EAAayC,GACjEzG,KAAKwE,WACJ,IAAIpG,GAAGG,QAAQiB,GAAGiF,KAAKC,aACtBjC,OAAQA,EACRkC,OAAQ3E,KAAK4E,YAAYpE,KAAKR,KAAMuE,EAAW9B,MAGjD2B,EAASX,QAAQ,SAASoB,GACzB,IAAKA,EAAQC,SAAYD,EAAQC,SAAWd,EAC5C,CACChE,KAAKwE,WAAWxE,KAAKgK,qBAAqBnF,MAEzC7E,MACHA,KAAKW,OAAO0E,QACX7E,KAAKR,QAGT4E,YAAa,SAASqF,EAAUxH,GAE/BzC,KAAKiB,MAAQ,IAAI7C,GAAG8C,MAAMC,YAC1B,IAAI+I,EAAU9L,GAAGG,QAAQ4E,QAAQ/B,cACjC8I,EAAQjJ,MAAMkJ,OAAO,aAAa1H,EAAO,KACzCyH,EAAQjJ,MAAMkJ,OAAO,cAAc1H,EAAO,MAC1CyH,EAAQjJ,MAAMkJ,OAAO,WAAW1H,GAChCwH,KAaDD,qBAAsB,SAASpI,GAE9B,OAAO,IAAIxD,GAAGG,QAAQiB,GAAGiF,KAAKM,oBAC7B/C,MAAOJ,EAAQiC,MACfmB,YAAapD,EAAQqD,YACrBC,QAAStD,EAAQuD,QACjBrB,QAAS9D,KAAKoF,eAAe5E,KAAKR,KAAM4B,EAAQoB,GAAIpB,EAAQiC,UAU9DuG,mBAAoB,SAASxI,GAE5B,OAAO,IAAIxD,GAAGG,QAAQiB,GAAGiF,KAAK4F,kBAC7BvJ,QAASc,EAAQhC,GACjBkE,QAAS9D,KAAKuI,aAAa/H,KAAKR,KAAM4B,EAAQhC,GAAIgC,EAAQgI,KAAMhI,EAAQiI,UAS1ES,WAAY,SAAS7E,EAAW7D,GAE/B,IAAI2I,EAAMC,KAAKC,WAAW,aAAehF,EAAW7D,IAEpD,OAAO5B,KAAKiB,MAAMyJ,SAASH,EAAK,WAC/B,OAAOnM,GAAGG,QAAQ4E,QAAQ/B,cACxBuJ,OAAO,oBAAqBtD,QAC3BzE,QAASI,GAAIyC,GACbmF,YAAa,QAEdvH,KAAK,SAASwH,GACd,OAAOA,GACNrK,KAAKR,QACPQ,KAAKR,QAGR8K,SAAU,SAASlL,GAElB,IAAImL,EAAW,YAAcnL,EAE7B,OAAOI,KAAKiB,MAAMyJ,SAASK,EAAU,WACpC,OAAO3M,GAAGG,QAAQ4E,QAAQ/B,cACxBuJ,OAAO,kBACPlB,MAAO7J,EACPyH,QACC2D,UAAW,QAGZ3H,KAAK,SAASwH,GACd,OAAOA,GACNrK,KAAKR,QACPQ,KAAKR,QAGR0J,SAAU,SAASuB,GAElBjL,KAAKe,eAAekK,GACpBjL,KAAKqF,QAGNA,KAAM,WAELrF,KAAK4H,aAAe,KACpB,OAAOxJ,GAAGG,QAAQiB,GAAGE,MAAMI,QAAQwB,UAAU+D,KAAKvD,KAAK9B,SAjqBzD","file":"url_list.map.js"}